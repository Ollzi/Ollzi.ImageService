<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <img id="image" data-bind="attr:{src: fileName}" style="width: 100%; height: 100%;"/>
    

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js" type="text/javascript"></script>

</body>
</html>

<script type="text/javascript" language="javascript">
    var ImageViewModel = function() {

        var images = ko.observableArray([]);
        var fileName = ko.observable();
        var currentIndex = 0;

        var timeOut = function () {
            setTimeout(function () {
                if (images().length > 0 && currentIndex === (images().length -1)) {
                    fetchImages();
                } else {
                    currentIndex = currentIndex + 1;
                    fileName(images()[currentIndex].fileName);
                }
                timeOut();
            }, 3000);
        }

        var fetchImages = function () {
            $.ajax({
                url: "http://localhost/Ollzi.ImageService.Web/Api/Image/"
            }).done(function (fetchedImages) {
                images(fetchedImages);
                fileName(fetchedImages[0].fileName);
                timeOut();
            });
        };

        var initialize = function() {
            fetchImages();
        }

        return {
            initialize: initialize,
            fileName: fileName
        }
    };

    

    

    $(document).ready(function() {
        var imageViewModel = new ImageViewModel();
        imageViewModel.initialize();

        ko.applyBindings(imageViewModel);
    });
</script>